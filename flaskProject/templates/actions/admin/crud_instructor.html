{% extends 'layout.html' %}
{% block title %}CRUD Instructor{% endblock %}

{% block content %}

<h1>CRUD Instructor</h1>
<div class="msg">{{ msg }}</div>

<div class="accordion" id="instructorAccordion">

    <div class="accordion-item">
        <h2 class="accordion-header" id="headingCreate">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCreate">
                Create
            </button>
        </h2>

        <div id="collapseCreate" class="accordion-collapse collapse" data-bs-parent="#instructorAccordion">
            <div class="accordion-body">
                <!-- old create form, unchanged except wrapped in this accordion -->
                <form action="{{ url_for('crud_instructor') }}" method="POST">
                    <div class="mb-3">
                        <label>Instructor ID</label>
                        <input type="text" name="Cid" required>
                    </div>

                    <div class="mb-3">
                        <label>First Name</label>
                        <input type="text" name="Cfname" required>
                    </div>

                    <div class="mb-3">
                        <label>Middle Name</label>
                        <input type="text" name="Cmname" required>
                    </div>

                    <div class="mb-3">
                        <label>Last Name</label>
                        <input type="text" name="Clname" required>
                    </div>

                    <div class="mb-3">
                        <label>Salary</label>
                        <input type="text" name="Csalary" required>
                    </div>

                    <div class="mb-3">
                        <label>Department ID for employment</label>
                        <input type="text" name="Cdept" required>
                    </div>

                    <div class="mb-3">
                        <label>Section ID for teaching</label>
                        <input type="text" name="Csection" required>
                    </div>

                    <div class="mb-3">
                        <label>Student ID for advising</label>
                        <input type="text" name="Cstudent" required>
                    </div>

                    <input type="submit" value="Create Instructor">
                </form>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <h2 class="accordion-header" id="headingRead">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseRead">
                Read
            </button>
        </h2>

        <div id="collapseRead" class="accordion-collapse collapse {% if selected %}show{% endif %}"
            data-bs-parent="#instructorAccordion">
            <div class="accordion-body">
                <div class="container">
                    <table cellpadding="5" cellspacing="5" class="table table-hover">
                        <tr>
                            <th>ID</th>
                            <th>First Name</th>
                            <th>Middle Name</th>
                            <th>Last Name</th>
                            <th>Salary</th>
                        </tr>
                        {% for row in data %}
                        <tr>
                            <td>{{ row[0] }}</td>
                            <td>{{ row[1] }}</td>
                            <td>{{ row[2] }}</td>
                            <td>{{ row[3] }}</td>
                            <td>{{ row[4] }}</td>
                        </tr>
                        {% endfor %}
                    </table>

                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <h2 class="accordion-header" id="headingUpdate">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseUpdate">
                Update
            </button>
        </h2>

        <div id="collapseUpdate" class="accordion-collapse collapse" data-bs-parent="#instructorAccordion">
            <div class="accordion-body">

                <form action="{{ url_for('crud_instructor') }}" method="POST">
                    <div class="form-group">
                        <label for="instructors">Choose an Instructor:</label>
                        <select name="instructor" id="instructor">
                            {% for id, fname, mname, lname, salary in data %}
                            <option value="{{ id }}">{{ lname }}, {{ fname }} {{ mname }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="mb-3">
                        <input type="text" placeholder="First Name" name="fname">
                    </div>

                    <div class="mb-3">
                        <input type="text" placeholder="Middle Name" name="mname">
                    </div>

                    <div class="mb-3">
                        <input type="text" placeholder="Last Name" name="lname">
                    </div>

                    <div class="mb-3">
                        <input type="text" placeholder="Salary" name="salary">
                    </div>

                    <div class="mb-3">
                        <input type="text" placeholder="Department ID" name="dept">
                    </div>

                    <div class="mb-3">
                        <input type="text" placeholder="Section ID" name="section">
                    </div>

                    <div class="mb-3">
                        <input type="text" placeholder="Student ID" name="student">
                    </div>

                    <input type="submit" value="Update Instructor" name="update">

                </form>

            </div>
        </div>
    </div>

    <div class="accordion-item">
        <h2 class="accordion-header" id="headingDelete">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseDelete">
                Delete Instructor
            </button>
        </h2>

        <div id="collapseDelete" class="accordion-collapse collapse" data-bs-parent="#instructorAccordion">
           <div class="accordion-body">
                <form action="{{ url_for('crud_section') }}" method="POST">
                    <div class="form-group">
                        <label for="instructors">Choose an Instructor:</label>
                        <select name="instructor" id="instructor">
                            {% for id, fname, mname, lname, salary in data %}
                            <option value="{{ id }}">{{ lname }}, {{ fname }} {{ mname }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <input type="submit" value="Delete Instructor" name="delete">
                </form>
            </div>
        </div>
    </div>

</div>

{% endblock %}